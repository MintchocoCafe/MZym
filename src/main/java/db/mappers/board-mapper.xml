<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<!-- 
	작성자 : 이예찬
	페이징 처리가 된 공지사항을 최신순으로 정렬해서 가져오는 쿼리문
 -->
<entry key="selectNotice">
select *
from(
    select ROWNUM r , n.* 
    from(
        select
            NOTICE_NO
            , User_ID
            , NOTICE_TITLE
            , NOTICE_CONTENT
            , TO_CHAR(n.REGIST_DATE, 'YY"년"MM"월"DD"일"') REGIST_DATE
        from MZYM_NOTICE n
        join mzym_member on (user_no = notice_writer)
        where n.status = 'Y'
        order by NOTICE_NO DESC       
    )n
)
where r BETWEEN ? and ?
</entry>
	
<!-- 
	작성자: 이예찬
	페이징처리 위한 공지사항의 총 갯수를 알라오기 위한 쿼리문
-->
<entry key="selectNoticeCount">
select count(*)
from mzym_notice
</entry>

<!-- 
	작성자 : 이예찬
	"공지사항" 등록 쿼리
	글번호, 작성자 회원 번호, 제목, 내용 , 날짜, 수정일, 작성자, 글상태
	단, 첨부파일보다 먼저 등록되어야함
 -->
<entry key="">
insert 
into mzym_notice(
    NOTICE_NO
    , NOTICE_WRITER
    , NOTICE_TITLE
    , NOTICE_CONTENT
    , REGIST_DATE
    , EDIT_DATE
    , START_DATE
    , STATUS
) values(
    SEQ_NOTICENO.nextval
    , 2
    , ?
    , ?
    , sysdate
    , sysdate
    , sysdate
    , default
)
</entry>

<!-- 
	작성자 : 이예찬
	"공지사항" 등록시 첨부파일 등록 쿼리문
	첨부파일, 참조될 글 번호(기시판의 글번호), 글 유형 (N), 원본명, 수정명, 경로, 등록일, 파일 상태
 -->
<entry key="">
insert 
into attachment
(
    FILE_NO
    , ATT_NO
    , ORIGIN_NAME
    , CHANGE_NAME
    , FILE_PATH
    , UPLORD_DATE
    , STATUS
) values (
    SEQ_ATTACHMENT.nextval
    , SEQ_NOTICENO.currval
    , ?
    , ?
    , ?
    , sysdate
    , DEFAULT
)
</entry>


<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
<!--  -->
<entry key=""></entry>
</properties>